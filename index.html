<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live WebSim Bot Interface</title>
    <script>
        function keepAlive() {
            const iframe = document.getElementById("websimFrame");
            if (iframe) {
                iframe.contentWindow.location.reload(); // Reload iframe every 5 minutes
                console.log("WebSim iframe refreshed.");
            }
        }

        function simulateUserActivity() {
            const iframe = document.getElementById("websimFrame");
            if (iframe) {
                const script = `
                    if (!window.keepAliveSocket) {
                        window.keepAliveSocket = new WebSocket('wss://websim.ai/socket');
                        window.keepAliveSocket.onopen = function() { console.log('WebSocket Connected'); };
                        window.keepAliveSocket.onerror = function(error) { console.log('WebSocket Error:', error); };
                        window.keepAliveSocket.onclose = function() { setTimeout(() => { window.keepAliveSocket = new WebSocket('wss://websim.ai/socket'); }, 5000); };
                    }
                    document.dispatchEvent(new KeyboardEvent('keydown', {'key':'a'})); // Fake keyboard activity
                `;
                iframe.contentWindow.eval(script);
                console.log("Simulated user activity.");
            }
        }

        // Run every 2 minutes to refresh and keep WebSim alive
        setInterval(keepAlive, 300000); // 5 minutes
        setInterval(simulateUserActivity, 120000); // 2 minutes
    </script>
</head>
<body>
    <h1>Live WebSim Interface</h1>
    <iframe id="websimFrame" src="https://websim.ai/@MAR1/telegram-bot-interface/" width="100%" height="800px"></iframe>
</body>
</html>
